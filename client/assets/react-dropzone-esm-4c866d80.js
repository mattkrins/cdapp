import{r as a,a as Je}from"./react-f1c107a9.js";import{P as l}from"./prop-types-10f50d8b.js";const Qe=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function z(e,t){const r=Xe(e);if(typeof r.path!="string"){const{webkitRelativePath:o}=e;Object.defineProperty(r,"path",{value:typeof t=="string"?t:typeof o=="string"&&o.length>0?o:e.name,writable:!1,configurable:!1,enumerable:!0})}return r}function Xe(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const o=t.split(".").pop().toLowerCase(),s=Qe.get(o);s&&Object.defineProperty(e,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return e}var C=(e,t,r)=>new Promise((o,s)=>{var f=y=>{try{c(r.next(y))}catch(E){s(E)}},p=y=>{try{c(r.throw(y))}catch(E){s(E)}},c=y=>y.done?o(y.value):Promise.resolve(y.value).then(f,p);c((r=r.apply(e,t)).next())});const Ze=[".DS_Store","Thumbs.db"];function et(e){return C(this,null,function*(){return Y(e)&&tt(e.dataTransfer)?it(e.dataTransfer,e.type):rt(e)?nt(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?ot(e):[]})}function tt(e){return Y(e)}function rt(e){return Y(e)&&Y(e.target)}function Y(e){return typeof e=="object"&&e!==null}function nt(e){return ce(e.target.files).map(t=>z(t))}function ot(e){return C(this,null,function*(){return(yield Promise.all(e.map(r=>r.getFile()))).map(r=>z(r))})}function it(e,t){return C(this,null,function*(){if(e.items){const r=ce(e.items).filter(s=>s.kind==="file");if(t!=="drop")return r;const o=yield Promise.all(r.map(st));return xe(Le(o))}return xe(ce(e.files).map(r=>z(r)))})}function xe(e){return e.filter(t=>Ze.indexOf(t.name)===-1)}function ce(e){if(e===null)return[];const t=[];for(let r=0;r<e.length;r++){const o=e[r];t.push(o)}return t}function st(e){if(typeof e.webkitGetAsEntry!="function")return Ae(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?ze(t):Ae(e)}function Le(e){return e.reduce((t,r)=>[...t,...Array.isArray(r)?Le(r):[r]],[])}function Ae(e){const t=e.getAsFile();if(!t)return Promise.reject(`${e} is not a File`);const r=z(t);return Promise.resolve(r)}function at(e){return C(this,null,function*(){return e.isDirectory?ze(e):ct(e)})}function ze(e){const t=e.createReader();return new Promise((r,o)=>{const s=[];function f(){t.readEntries(p=>C(this,null,function*(){if(p.length){const c=Promise.all(p.map(at));s.push(c),f()}else try{const c=yield Promise.all(s);r(c)}catch(c){o(c)}}),p=>{o(p)})}f()})}function ct(e){return C(this,null,function*(){return new Promise((t,r)=>{e.file(o=>{const s=z(o,e.fullPath);t(s)},o=>{r(o)})})})}function lt(e,t){if(e&&t){const r=Array.isArray(t)?t:t.split(","),o=e.name||"",s=(e.type||"").toLowerCase(),f=s.replace(/\/.*$/,"");return r.some(p=>{const c=p.trim().toLowerCase();return c.charAt(0)==="."?o.toLowerCase().endsWith(c):c.endsWith("/*")?f===c.replace(/\/.*$/,""):s===c})}return!0}var pt=Object.defineProperty,ut=Object.defineProperties,ft=Object.getOwnPropertyDescriptors,Ce=Object.getOwnPropertySymbols,dt=Object.prototype.hasOwnProperty,gt=Object.prototype.propertyIsEnumerable,ke=(e,t,r)=>t in e?pt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,mt=(e,t)=>{for(var r in t||(t={}))dt.call(t,r)&&ke(e,r,t[r]);if(Ce)for(var r of Ce(t))gt.call(t,r)&&ke(e,r,t[r]);return e},yt=(e,t)=>ut(e,ft(t));const bt="file-invalid-type",Dt="file-too-large",ht="file-too-small",vt="too-many-files",Et=e=>{e=Array.isArray(e)&&e.length===1?e[0]:e;const t=Array.isArray(e)?`one of ${e.join(", ")}`:e;return{code:bt,message:`File type must be ${t}`}},je=e=>({code:Dt,message:`File is larger than ${e} ${e===1?"byte":"bytes"}`}),Ie=e=>({code:ht,message:`File is smaller than ${e} ${e===1?"byte":"bytes"}`}),wt={code:vt,message:"Too many files"};function Se(e,t){const r=e.type==="application/x-moz-file"||lt(e,t);return[r,r?null:Et(t)]}function $e(e,t,r){if(_(e.size))if(_(t)&&_(r)){if(e.size>r)return[!1,je(r)];if(e.size<t)return[!1,Ie(t)]}else{if(_(t)&&e.size<t)return[!1,Ie(t)];if(_(r)&&e.size>r)return[!1,je(r)]}return[!0,null]}function _(e){return e!=null}function Ft({files:e,accept:t,minSize:r,maxSize:o,multiple:s,maxFiles:f,validator:p}){return!s&&e.length>1||s&&f>=1&&e.length>f?!1:e.every(c=>{const[y]=Se(c,t),[E]=$e(c,r,o),k=p?p(c):null;return y&&E&&!k})}function G(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function W(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,t=>t==="Files"||t==="application/x-moz-file"):!!e.target&&!!e.target.files}function Re(e){e.preventDefault()}function Ot(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function _t(e){return e.indexOf("Edge/")!==-1}function Pt(e=window.navigator.userAgent){return Ot(e)||_t(e)}function v(...e){return(t,...r)=>e.some(o=>(!G(t)&&o&&o(t,...r),G(t)))}function xt(){return"showOpenFilePicker"in window}function At(e){return _(e)?[{description:"Files",accept:Object.entries(e).filter(([r,o])=>{let s=!0;return Ke(r)||(console.warn(`Skipped "${r}" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.`),s=!1),(!Array.isArray(o)||!o.every(Be))&&(console.warn(`Skipped "${r}" because an invalid file extension was provided.`),s=!1),s}).reduce((r,[o,s])=>yt(mt({},r),{[o]:s}),{})}]:e}function Ct(e){if(_(e))return Object.entries(e).reduce((t,[r,o])=>[...t,r,...o],[]).filter(t=>Ke(t)||Be(t)).join(",")}function kt(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function jt(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function Ke(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function Be(e){return/^.*\.[\w]+$/.test(e)}var It=Object.defineProperty,Rt=Object.defineProperties,Tt=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,Ne=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable,Te=(e,t,r)=>t in e?It(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,m=(e,t)=>{for(var r in t||(t={}))Ne.call(t,r)&&Te(e,r,t[r]);if(U)for(var r of U(t))He.call(t,r)&&Te(e,r,t[r]);return e},w=(e,t)=>Rt(e,Tt(t)),V=(e,t)=>{var r={};for(var o in e)Ne.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&U)for(var o of U(e))t.indexOf(o)<0&&He.call(e,o)&&(r[o]=e[o]);return r};const pe=a.forwardRef((e,t)=>{var r=e,{children:o}=r,s=V(r,["children"]);const f=Mt(s),{open:p}=f,c=V(f,["open"]);return a.useImperativeHandle(t,()=>({open:p}),[p]),Je.createElement(a.Fragment,null,o(w(m({},c),{open:p})))});pe.displayName="Dropzone";const We={disabled:!1,getFilesFromEvent:et,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};pe.defaultProps=We;pe.propTypes={children:l.func,accept:l.objectOf(l.arrayOf(l.string)),multiple:l.bool,preventDropOnDocument:l.bool,noClick:l.bool,noKeyboard:l.bool,noDrag:l.bool,noDragEventsBubbling:l.bool,minSize:l.number,maxSize:l.number,maxFiles:l.number,disabled:l.bool,getFilesFromEvent:l.func,onFileDialogCancel:l.func,onFileDialogOpen:l.func,useFsAccessApi:l.bool,autoFocus:l.bool,onDragEnter:l.func,onDragLeave:l.func,onDragOver:l.func,onDrop:l.func,onDropAccepted:l.func,onDropRejected:l.func,onError:l.func,validator:l.func};const le={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Mt(e={}){const{accept:t,disabled:r,getFilesFromEvent:o,maxSize:s,minSize:f,multiple:p,maxFiles:c,onDragEnter:y,onDragLeave:E,onDragOver:k,onDrop:q,onDropAccepted:J,onDropRejected:Q,onFileDialogCancel:X,onFileDialogOpen:Z,useFsAccessApi:ue,autoFocus:fe,preventDropOnDocument:ee,noClick:de,noKeyboard:te,noDrag:ge,noDragEventsBubbling:F,onError:re,validator:j}=m(m({},We),e),I=a.useMemo(()=>Ct(t),[t]),me=a.useMemo(()=>At(t),[t]),ne=a.useMemo(()=>typeof Z=="function"?Z:Me,[Z]),S=a.useMemo(()=>typeof X=="function"?X:Me,[X]),g=a.useRef(null),h=a.useRef(null),[ye,b]=a.useReducer(Lt,le),{isFocused:Ye,isFileDialogActive:be}=ye,$=a.useRef(typeof window<"u"&&window.isSecureContext&&ue&&xt()),De=()=>{!$.current&&be&&setTimeout(()=>{if(h.current){const{files:n}=h.current;n.length||(b({type:"closeDialog"}),S())}},300)};a.useEffect(()=>(window.addEventListener("focus",De,!1),()=>{window.removeEventListener("focus",De,!1)}),[h,be,S,$]);const P=a.useRef([]),he=n=>{g.current&&g.current.contains(n.target)||(n.preventDefault(),P.current=[])};a.useEffect(()=>(ee&&(document.addEventListener("dragover",Re,!1),document.addEventListener("drop",he,!1)),()=>{ee&&(document.removeEventListener("dragover",Re),document.removeEventListener("drop",he))}),[g,ee]),a.useEffect(()=>(!r&&fe&&g.current&&g.current.focus(),()=>{}),[g,fe,r]);const O=a.useCallback(n=>{re?re(n):console.error(n)},[re]),ve=a.useCallback(n=>{n.preventDefault(),n.persist(),H(n),P.current=[...P.current,n.target],W(n)&&Promise.resolve(o(n)).then(i=>{if(G(n)&&!F)return;const u=i.length,d=u>0&&Ft({files:i,accept:I,minSize:f,maxSize:s,multiple:p,maxFiles:c,validator:j}),D=u>0&&!d;b({isDragAccept:d,isDragReject:D,isDragActive:!0,type:"setDraggedFiles"}),y&&y(n)}).catch(i=>O(i))},[o,y,O,F,I,f,s,p,c,j]),Ee=a.useCallback(n=>{n.preventDefault(),n.persist(),H(n);const i=W(n);if(i&&n.dataTransfer)try{n.dataTransfer.dropEffect="copy"}catch{}return i&&k&&k(n),!1},[k,F]),we=a.useCallback(n=>{n.preventDefault(),n.persist(),H(n);const i=P.current.filter(d=>g.current&&g.current.contains(d)),u=i.indexOf(n.target);u!==-1&&i.splice(u,1),P.current=i,!(i.length>0)&&(b({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),W(n)&&E&&E(n))},[g,E,F]),K=a.useCallback((n,i)=>{const u=[],d=[];n.forEach(D=>{const[R,T]=Se(D,I),[ie,se]=$e(D,f,s),M=j?j(D):null;if(R&&ie&&!M)u.push(D);else{let L=[T,se];M&&(L=L.concat(M)),d.push({file:D,errors:L.filter(ae=>ae)})}}),(!p&&u.length>1||p&&c>=1&&u.length>c)&&(u.forEach(D=>{d.push({file:D,errors:[wt]})}),u.splice(0)),b({acceptedFiles:u,fileRejections:d,type:"setFiles"}),q&&q(u,d,i),d.length>0&&Q&&Q(d,i),u.length>0&&J&&J(u,i)},[b,p,I,f,s,c,q,J,Q,j]),B=a.useCallback(n=>{n.preventDefault(),n.persist(),H(n),P.current=[],W(n)&&Promise.resolve(o(n)).then(i=>{G(n)&&!F||K(i,n)}).catch(i=>O(i)),b({type:"reset"})},[o,K,O,F]),x=a.useCallback(()=>{if($.current){b({type:"openDialog"}),ne();const n={multiple:p,types:me};window.showOpenFilePicker(n).then(i=>o(i)).then(i=>{K(i,null),b({type:"closeDialog"})}).catch(i=>{kt(i)?(S(i),b({type:"closeDialog"})):jt(i)?($.current=!1,h.current?(h.current.value=null,h.current.click()):O(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):O(i)});return}h.current&&(b({type:"openDialog"}),ne(),h.current.value=null,h.current.click())},[b,ne,S,ue,K,O,me,p]),Fe=a.useCallback(n=>{!g.current||!g.current.isEqualNode(n.target)||(n.key===" "||n.key==="Enter"||n.keyCode===32||n.keyCode===13)&&(n.preventDefault(),x())},[g,x]),Oe=a.useCallback(()=>{b({type:"focus"})},[]),_e=a.useCallback(()=>{b({type:"blur"})},[]),Pe=a.useCallback(()=>{de||(Pt()?setTimeout(x,0):x())},[de,x]),A=n=>r?null:n,oe=n=>te?null:A(n),N=n=>ge?null:A(n),H=n=>{F&&n.stopPropagation()},Ge=a.useMemo(()=>(n={})=>{var i=n,{refKey:u="ref",role:d,onKeyDown:D,onFocus:R,onBlur:T,onClick:ie,onDragEnter:se,onDragOver:M,onDragLeave:L,onDrop:ae}=i,qe=V(i,["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return m(m({onKeyDown:oe(v(D,Fe)),onFocus:oe(v(R,Oe)),onBlur:oe(v(T,_e)),onClick:A(v(ie,Pe)),onDragEnter:N(v(se,ve)),onDragOver:N(v(M,Ee)),onDragLeave:N(v(L,we)),onDrop:N(v(ae,B)),role:typeof d=="string"&&d!==""?d:"presentation",[u]:g},!r&&!te?{tabIndex:0}:{}),qe)},[g,Fe,Oe,_e,Pe,ve,Ee,we,B,te,ge,r]),Ue=a.useCallback(n=>{n.stopPropagation()},[]),Ve=a.useMemo(()=>(n={})=>{var i=n,{refKey:u="ref",onChange:d,onClick:D}=i,R=V(i,["refKey","onChange","onClick"]);const T={accept:I,multiple:p,type:"file",style:{display:"none"},onChange:A(v(d,B)),onClick:A(v(D,Ue)),tabIndex:-1,[u]:h};return m(m({},T),R)},[h,t,p,B,r]);return w(m({},ye),{isFocused:Ye&&!r,getRootProps:Ge,getInputProps:Ve,rootRef:g,inputRef:h,open:A(x)})}function Lt(e,t){switch(t.type){case"focus":return w(m({},e),{isFocused:!0});case"blur":return w(m({},e),{isFocused:!1});case"openDialog":return w(m({},le),{isFileDialogActive:!0});case"closeDialog":return w(m({},e),{isFileDialogActive:!1});case"setDraggedFiles":return w(m({},e),{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return w(m({},e),{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return m({},le);default:return e}}function Me(){}export{Mt as u};
